<%= form_with model: message, url: conversation_path(receiver.username),
    local: false, data: { turbo_frame: "message_form" },
    class: "flex items-center gap-3" do |form| %>

  <div class="flex-1 relative">
    <%= form.text_area :content,
      placeholder: "Message...",
      rows: 1,
      class: "w-full px-4 py-2 bg-gray-100 rounded-3xl text-black resize-none focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm placeholder-gray-500 border border-gray-300 ",
      data: {
        action: "keydown->message-form#handleKeydown input->message-form#autoResize",
        "message-form-target": "textarea"
      } %>
  </div>

  <div>
    <%= button_tag type: "submit",
        class: "text-blue-600 hover:text-blue-800 transition-colors",
        data: { "message-form-target": "submit" } do %>
      <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 transform rotate-45" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12l14-7-5 7 5 7-14-7z" />
      </svg>
    <% end %>
  </div>

<% end %>
